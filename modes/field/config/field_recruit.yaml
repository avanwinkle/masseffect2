#config_version=5

#####
# RECRUIT FIELD MODE
#
# This mode is the "generic" gameplay experience, i.e. what's happening when no
# other mode is active. It's got logic for lighting all the recruitment mission
# shots and tracking the hit counts for each of them.
#
# For now, it also has responsibility for the N7 Assignments counter and mode
# start logic, because we will only want to start N7 Assignments when we're
# in Recruit Field mode (i.e. never during any other mode)
#####

mode:
  events_when_started: enable_recruit_shots, disable_fullorbit
  events_when_stopped: disable_recruit_shots, enable_fullorbit

config:
  - field_recruit_sounds.yaml
  - field_recruit_shows.yaml

event_player:
  # When a squadmate moves from "shot" to "lit", re-evaluate the shots
  recruit_lit: enable_recruit_shots

shot_profiles:
  recruit_shot_profile:
    show_when_disabled: false
    show: color_on
    states:
      - name: active

shots:
  recruit_garrus_shot:
    hit_events: sh_left_ramp_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_garrus<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="garrus"}
    show_tokens:
      leds: shot_shield_garrus
      color: 0E1B4F #color_garrus
  recruit_grunt_shot:
    hit_events: sh_left_orbit_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_grunt<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="grunt"}
    show_tokens:
      leds: shot_shield_grunt
      color: ED3A00 #color_grunt
  recruit_jack_shot:
    hit_events: sh_kickback_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_jack<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="jack"}
    show_tokens:
      leds: shot_shield_jack
      color: 6F00FF #color_jack
  recruit_kasumi_shot:
    hit_events: sh_right_ramp_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_kasumi<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="kasumi"}
    show_tokens:
      leds: shot_shield_kasumi
      color: F7F315 #color_kasumi
  recruit_legion_shot:
    hit_events: sh_kickback_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_jack>3 and current_player.status_legion<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="jack"}
    show_tokens:
      leds: shot_shield_legion
      color: FFFFFF #color_legion
  recruit_mordin_shot:
    hit_events: sh_right_orbit_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_mordin<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="mordin"}
    show_tokens:
      leds: shot_shield_mordin
      color: BD000A #color_mordin
  recruit_samara_shot:
    hit_events: sh_left_ramp_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_garrus>3 and current_player.status_samara<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="garrus"}
    show_tokens:
      leds: shot_shield_samara
      color: 0037FF #color_samara
  recruit_tali_shot:
    hit_events: sh_right_orbit_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_mordin>3 and current_player.status_tali<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="mordin"}
    show_tokens:
      leds: shot_shield_tali
      color: D323FF #color_tali
  recruit_thane_shot:
    hit_events: sh_right_ramp_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_kasumi>3 and current_player.status_thane<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="kasumi"}
    show_tokens:
      leds: shot_shield_thane
      color: 00FF00 #color_thane
  recruit_zaeed_shot:
    hit_events: sh_left_orbit_hit
    profile: recruit_shot_profile
    enable_events:
      - enable_recruit_shots{current_player.status_grunt>3 and current_player.status_zaeed<3}
    disable_events:
      - disable_recruit_shots
      - recruit_lit{squadmate=="grunt"}
    show_tokens:
      leds: shot_shield_zaeed
      color: FF0000 #color_zaeed
