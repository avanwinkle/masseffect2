#config_version=5

#####
# LAIR OF THE SHADOW BROKER: FIELD MODE
#
# This mode contains the show elements related to Shadow Broker progression that
# display during Field mode.
#####

event_player:
  # Shadow Broker modes are only triggered from Field
  sbdroptarget_group_down_complete:
    # Complete the dropbank after vasir is enabled to begin the chase
    - start_mode_shadowbroker_chase{device.achievements.vasir.state=="enabled"}
    # Complete the dropbank after vasir is complete & broker is enabled to begin hagalaz
    - start_mode_shadowbroker_hagalaz{device.achievements.hagalaz.state=="enabled"}
    # Complete the dropbank after hagalaz to re-enable boss combat
    - enable_shadowbroker_hold{device.achievements.shadowbroker.state=="enabled"}
    # Complete the dropbank after boss is defeated for extra prizes!
    - award_shadowbroker_prize{device.achievements.shadowbroker.state=="complete"}
  # If the mode is restarted and boss combat is enabled, re-enable the hold
  mode_global_started:
    - enable_shadowbroker_hold{device.achievements.shadowbroker.state=="enabled"}
  # Get a ball in the ball hold to begin Boss Combat
  ball_hold_shadowbroker_hold_held_ball:
    - start_mode_shadowbroker_boss
    - enter_shadowbroker_modes

# ball_holds:
#   shadowbroker_hold:
#     balls_to_hold: 1
#     hold_devices: bd_hold
#     enable_events: enable_shadowbroker_hold, enable_hatch
#     release_one_events: release_shadowbroker_hold
#     disable_events: ball_hold_shadowbroker_hold_balls_released
