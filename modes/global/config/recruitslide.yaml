#config_version=5

event_player:
  slide_recruitslide_active:
    # Prepopulate the slide when it comes in
    timer_recruittimer_tick:
      ticks_remaining: { value: device.timers.recruittimer.ticks }

#####
# Use a single slide/widget for all the missions, just update the text
#####
variable_player:
  mode_recruitgarrus_started:
    missionname:
      string: "Defend Archangel"
      action: set
  mode_recruitgrunt_started:
    missionname:
      string: "Defeat the Tank-Bred"
      action: set
  mode_recruitjack_started:
    missionname:
      string: "Escape from Purgatory"
      action: set
  mode_recruitkasumi_started:
    missionname:
      string: "Infiltrate the Vault"
      action: set
  mode_recruitlegion_started:
    missionname:
      string: "Stop the Heretics"
      action: set
  mode_recruitmordin_started:
    missionname:
      string: "Cure the Plague"
      action: set
  mode_recruitsamara_started:
    missionname:
      string: "Find Morinth"
      action: set
  mode_recruittali_started:
    missionname:
      string: "Destroy the Colossus"
      action: set
  mode_recruitthane_started:
    missionname:
      string: "Assault Dantius Towers"
      action: set
  mode_recruitzaeed_started.1{current_player.zaeed_path_renegade==-1}:
    missionname:
      string: "Storm the Refinery"
      action: set
  mode_recruitzaeed_started.2{current_player.zaeed_path_renegade==0}:
    missionname:
      string: "Save the Workers"
      action: set
  mode_recruitzaeed_started.3{current_player.zaeed_path_renegade==1}:
    missionname:
      string: "Stop Vido's Escape"
      action: set

slide_player:
  recruit_advance:
    recruiting_advance_slide_2{status==1}:
      expire: 3s
    recruiting_advance_slide_1{status==2}:
      expire: 3s
    recruiting_advance_slide_lit{status==3}:
      expire: 4s
  mode_type_mission_started:
    recruit_mission_slide:
      action: play
      priority: 100
  mode_type_mission_stopped:
    recruit_mission_slide:
      action: remove

slides:
  recruit_mission_slide:
    widgets:
      - type: text
        text: (score)
        style: body_md, row_top, col_left_anchor
        opacity: 0.5
      - type: text
        text: (missionname)
        style: header_sm, row_main, col_left_anchor
      - type: text
        text: (global_recruittimer_tick)
        style: body_sm, row_gutter, col_right_anchor
  recruiting_advance_slide_2:
    widgets:
      - type: text
        text: Recruit (squadmate)
        style: header_lg, row_main
        casing: title
      - type: text
        text: 2 shots to unlock
        anchor_y: bottom
        style: body_md, row_sub_under
  recruiting_advance_slide_1:
    widgets:
      - type: text
        text: Recruit (squadmate)
        style: header_lg, row_main
        casing: title
      - type: text
        text: 1 shot to unlock
        style: body_md, row_sub_under
  recruiting_advance_slide_lit:
    widgets:
      - type: text
        text: (squadmate) Ready!
        style: header_lg, row_main
        casing: title
      - type: text
        text: Left Ramp to Start Mission
        style: body_md, row_sub_under

# widget_player:
#   timer_recruittimer_started:
#     time_remaining_widget:
#       action: update
#       slide: recruit_mission_slide
#   timer_recruittimer_tick:
#     time_remaining_widget:
#       action: update
#       slide: recruit_mission_slide

# widgets:
#   time_remaining_widget:
#     - type: text
#       text: "(ticks_remaining)"
#       style: body_sm, row_gutter, col_right_anchor
#   shots_remaining_widget:
#     - type: text
#       text: "Shots: (value)"
#       style: body_sm, row_bottom, col_left_anchor
#   secondary_timer_widget:
#     - type: text
#       text: (ticks_remaining)
#       style: body_lg, row_bottom, col_right_anchor

