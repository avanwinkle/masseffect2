#config_version=5
mode:
  start_events: start_mode_mainmenu, ball_ended
  stop_events: stop_mode_mainmenu, ball_started
  priority: 100
  game_mode: false
  code: mainmenu.MainMenu
  console_log: full

mode_settings:
  select_item_events: s_action_button_active
  next_item_events: s_flipper_right_active
  previous_item_events: s_flipper_left_active
  selectable_items: casual

event_player:
  career_loaded: stop_mode_mainmenu

queue_relay_player:
  # For the first ball, allow the player to pick a profile
  player_turn_starting{current_player.ball==0}:
    post: show_mainmenu
    wait_for: mainmenu_item_selected

slide_player:
  # Highlighting options in the main menu
  mainmenu_new_game_highlighted: new_game_slide
  mainmenu_resume_game_highlighted: resume_game_slide
  mainmenu_change_career_highlighted:
    change_career_slide{career_name!=" "}:
      action: play
    select_career_slide{career_name==" "}:
      action: play
  mainmenu_casual_highlighted: casual_slide
  # Selecting and moving between menus
  mainmenu_change_career_selected: career_select_slide
  # mainmenu_career_selected: resume_game_slide

slides:
  change_career_slide:
    widgets:
      - type: text
        text: Switch Profile
        style: header_lg, row_main, col_left_anchor
      - type: text
        text: (career_name)
        style: body_sm, row_top, col_left_anchor
      - widget: console_background
  select_career_slide:
    widgets:
      - type: text
        text: Select a Profile
        style: header_lg, row_main, col_left_anchor
      - widget: console_background
  resume_game_slide:
    widgets:
      - type: text
        text: Continue Game
        style: header_lg, row_main, col_left_anchor
      - type: text
        text: (career_name)
        style: body_sm, row_top, col_left_anchor
      - widget: console_background
  new_game_slide:
    widgets:
      - type: text
        text: New Game
        style: header_lg, row_main, col_left_anchor
      - type: text
        text: (career_name)
        style: body_sm, row_top, col_left_anchor
      - widget: console_background
  career_select_slide:
    widgets:
      - type: text
        text: "Load Profile:"
        style: body_sm, row_top, col_left_anchor
      - widget: console_background
  casual_slide:
    widgets:
      - type: text
        text: Casual Play
        style: header_lg, row_main, col_left_anchor
      - widget: console_background

widget_player:
  highlight_career:
    highlighted_career_widget:
      slide: career_select_slide
      action: update

widgets:
  highlighted_career_widget:
    - type: text
      text: (career_name)
      style: body_lg, row_main, col_left_anchor
    - type: text
      text: LVL (level)
      style: body_sm, row_main, col_right_anchor
    - type: text
      text: (last_played)
      style: body_sm, row_sub, col_right_anchor

show_player:
  show_mainmenu: mainmenu_show
  mainmenu_item_selected:
    mainmenu_show:
      action: stop

shows:
  mainmenu_show:
    - duration: 1s
      lights:
        l_action_button_rgb:
          color: red
          fade: 100ms
    - duration: 1s
      lights:
        l_action_button_rgb:
          color: blue
          fade: 100ms

sound_player:
  show_mainmenu: mus_gui_char_create
  mainmenu_change_career_selected: galaxy_zoom_in
  mainmenu_career_selected: galaxy_zoom_out
  mainmenu_item_selected:
    gui_splashstart:
      action: play
      events_when_stopped: stop_mode_mainmenu

sounds:
  mus_gui_char_create:
    file: mus_reconstruction_a.ogg
    track: music
    volume: 0.5
    start_at: 3s
    fade_in: 500ms
    fade_out: 1s
    mode_end_action: stop
  galaxy_zoom_in:
    file: SFXGame.586.ogg
    track: sfx
  galaxy_zoom_out:
    file: SFXGame.587.ogg
    track: sfx

