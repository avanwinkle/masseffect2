#config_version=5
mode:
  start_events: start_mode_overlordlight
  stop_events: stop_mode_overlordlight
  priority: 1200

shot_groups:
  overlord_light_shot:
    shots: light_lock_overlord_top, light_lock_overlord_bottom
    enable_events: mode_overlordlight_started, multiball_overlord_multiball_ended
    disable_events: mode_overlordlight_stopping, multiball_overlord_multiball_started
    reset_events: multiball_lock_overlordlock_locked_ball

shot_profiles:
  overlord_light_profile:
    show_when_disabled: false
    states:
      - name: unlit
        show: off
      - name: lit
        show: on
  overlord_lock_profile:
    show_when_disabled: false
    states:
      - name: lit
        show: overlord_lock_lit

shots:
  overlord_lock_ball_shot:
    switch: s_left_ramp_exit
    profile: overlord_lock_profile
    enable_events: overlord_light_shot_hit
    disable_events: multiball_lock_overlordlock_locked_ball
  light_lock_overlord_top:
    switch: s_hitbank_top
    profile: overlord_light_profile
    show_tokens:
      led: l_hitbank_top
  light_lock_overlord_bottom:
    switch: s_hitbank_bottom
    profile: overlord_light_profile
    show_tokens:
      led: l_hitbank_bot

show_player:
  overlord_light_shot_hit:
    overlord_lock_flash:
      priority: 100
      loops: 6
      speed: 10
  multiball_overlord_multiball_started:
    ball_save_show:
      action: play
      speed: 3
  multiball_overlord_multiball_shoot_again_ended:
    ball_save_show:
      action: stop

shows:
  overlord_lock_flash:
    - time: 0
      lights:
        l_hitbank_bot: white
        l_hitbank_top: white
    - time: '+1'
      lights:
        l_hitbank_bot: black
        l_hitbank_top: black
  overlord_lock_lit:
    - time: 0
      lights:
        l_lock_lit: white
    - time: '+1'
      lights:
        l_lock_lit: black


slide_player:
  multiball_lock_overlordlock_locked_ball:
    overlord_ball_locked_slide:
      expire: 1.5s
      priority: 100
  multiball_overlord_multiball_started:
    overlord_ball_locked_slide_full:
      expire: 4s

slides:
  overlord_ball_locked_slide:
    widgets:
      - type: text
        text: OVERLORD
        style: dmd_small
        anchor_y: top
        y: top-2
      - type: text
        text: Ball (total_balls_locked) Locked!
        style: dmd_small
        anchor_y: bottom
        y: 2
  overlord_ball_locked_slide_full:
    widgets:
      - type: text
        text: OVERLORD
        style: dmd_big
        anchor_y: bottom
        y: middle+2
      - type: text
        text: MULTIBALL
        style: dmd_big
        anchor_y: top
        y: middle-2

sound_player:
  overlord_light_shot_hit:
    geth_hit_sfx:
      action: play
      max_queue_time: 1s
  multiball_overlord_multiball_started:
    overlord_music:
      action: play
      loops: -1
  multiball_overlord_multiball_ended:
    overlord_music:
      action: stop

sound_pools:
  geth_hit_sfx:
    sounds: geth_hit_1, geth_hit_2, geth_hit_3, geth_hit_4
    type: random_force_all
    track: sfx

sounds:
  geth_hit_1:
    file: sfx_ss_geth_trooper_ss_geth_trooper_00307868_m.ogg
    track: sfx
  geth_hit_2:
    file: sfx_ss_geth_trooper_ss_geth_trooper_00307894_m.ogg
    track: sfx
  geth_hit_3:
    file: sfx_ss_geth_trooper_ss_geth_trooper_00307881_m.ogg
    track: sfx
  geth_hit_4:
    file: sfx_ss_geth_trooper_ss_geth_trooper_00307899_m.ogg
    track: sfx
  overlord_music:
    file: Combat_Troops.ogg
    track: music
    mode_end_action: stop
    fade_out: 1s

widget_player:
  multiball_lock_overlordlock_locked_ball{total_balls_locked==1}:
    station_widget_1:
      slide: overlord_ball_locked_slide
    station_widget_2:
      action: remove
    station_widget_3:
      action: remove
  multiball_lock_overlordlock_locked_ball{total_balls_locked==2}:
    station_widget_1:
      action: remove
    station_widget_2:
      slide: overlord_ball_locked_slide
    station_widget_3:
      action: remove
  multiball_lock_overlordlock_locked_ball{total_balls_locked==3}:
    station_widget_1:
      action: remove
    station_widget_2:
      action: remove
    station_widget_3:
      slide: overlord_ball_locked_slide

widgets:
  station_widget_1:
    - type: text
      text: Vulcan Station
      style: dmd_big
  station_widget_2:
    - type: text
      text: Prometheus Station
      style: dmd_big
  station_widget_3:
    - type: text
      text: Atlas Station
      style: dmd_big
