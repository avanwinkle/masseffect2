#config_version=5

#####
# REPUTATION: PARAGON / RENEGADE
#
# This background mode provides return lane lights for Paragon (left) and
# Renegade (right), with lane change via flipper. Completing both lanes
# provides a boost to reputation.
#
# Filling a reputation meter lights a timer with a pulsing light on the
# return AND outlanes (again with lane change). Hits on the lit lane during
# the timer provides a reputation-based award.
#
# Why? I dunno.
#####

mode:
  start_events: start_mode_reputation
  stop_events: stop_mode_reputation
  priority: 600

variable_player:
  paragon_shot_unlit_hit:
    paragon: 1
  renegade_shot_unlit_hit:
    renegade: 1
  reputation_build_shots_complete:
    reputation: 1

shot_groups:
  reputation_build_shots:
    shots: alliance_shot, paragon_shot, renegade_shot, cerberus_shot
    reset_events: reputation_build_shots_complete
    rotate_left_events:
      - s_flipper_left_active
    rotate_right_events:
      - s_flipper_right_active

shots:
  alliance_shot:
    switch: s_outlane_left
    profile: reputation_profile
    show_tokens:
      leds: l_left_outlane
  paragon_shot:
    switch: s_return_lane_left
    profile: reputation_profile
    show_tokens:
      leds: l_left_return_lane
  renegade_shot:
    switch: s_return_lane_right
    profile: reputation_profile
    show_tokens:
      leds: l_right_return_lane
  cerberus_shot:
    switch: s_outlane_right
    profile: reputation_profile
    show_tokens:
      leds: l_right_outlane

shot_profiles:
  reputation_profile:
    show_when_disabled: false
    states:
      - name: unlit
        show: off
      - name: lit
        show: on

show_player:
  reputation_build_shots_lit_complete:
    color_flashing_fast:
      show_tokens:
        leds: l_left_outlane, l_left_return_lane, l_right_return_lane, l_right_outlane
        color: on
      loops: 4
